{% extends 'cms_content/base.html' %}

{% block title %}Articles{% endblock %}

{% block content %}
    <h2>Articles</h2>
    {% if user.is_authenticated %}
        <p><a href="{% url 'article_create' %}" class="btn">Create New Article</a></p>
    {% endif %}
    
    {% if articles %}
        <div class="article-list">
            {% for article in articles %}
                <div class="article-item">
                    <h3><a href="{% url 'article_detail' pk=article.pk %}">{{ article.title }}</a></h3>
                    <p class="article-meta">By {{ article.author.username }} on {{ article.created_at|date }}</p>
                    {% if user.is_authenticated %}
                        <div class="article-actions">
                            <a href="{% url 'article_edit' pk=article.pk %}" class="btn">Edit</a>
                            <a href="{% url 'article_delete' pk=article.pk %}" class="btn" onclick="return confirm('Are you sure?')">Delete</a>
                        </div>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>No articles yet.</p>
    {% endif %}
{% endblock %} 